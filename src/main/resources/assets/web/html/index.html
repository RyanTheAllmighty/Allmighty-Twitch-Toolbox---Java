<!DOCTYPE html>
<html>
<head>
    <title>Allmighty Twitch Toolbox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/custom.css" rel="stylesheet"/>
</head>
<body>

<header id="layout-header">
    <nav id="layout-nav" class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Allmighty Twitch Toolbox</a>
            </div>
            <div class="collapse navbar-collapse navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#welcome">Welcome</a></li>
                    <li><a href="#components">Components</a></li>
                    <li><a href="#notifications">Notifications</a></li>
                    <li><a href="#timer">Timer</a></li>
                    <li><a href="#api">API</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<section id="layout-content">
    <div class="container">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">Welcome</div>
                <div class="panel-body">
                    <a name="welcome"></a>

                    <p>
                        Welcome to the start page for the Allmighty Twitch Toolbox. Here you can find all the
                        information related to the program such as widget sizes for OBS, link to the different
                        systems and more.
                    </p>

                    <p>
                        To get started, pick a link in the top bar or just scroll down!
                    </p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">Components</div>
                <div class="panel-body">
                    <a name="components"></a>

                    <p>
                        There are multiple components to the Allmighty Twitch Toolbox which use this built in server.
                        To find out more about the components just click on it's name.
                    </p>

                    <ul>
                        <li><a href="#notifications">Notifications</a> - This shows followers and donation alerts
                            on your stream as well as popup alerts and sounds on your computer.
                        </li>
                        <li><a href="#timer">Timer</a> - This shows a timer/countdown</li>
                        <li><a href="#api">API</a> - If you don't know what an API is, you probably don't need it.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">Notifications</div>
                <div class="panel-body">
                    <a name="notifications"></a>

                    <p>
                        The notifications panel will show notifications on your stream when people follow or donate.
                        A popup box is also shown on your computer in the bottom right hand side of the page with the
                        details and a sound of your choosing is played.
                    </p>

                    <p>
                        To add this to OBS, add a CLR Browser pointing to the below url with a width of 580 and a
                        height of 110.
                    </p>

                    <p>
                        <input id="notifications-url" class="col-xs-12" type="text"/><br/>
                    </p>

                    <p>
                        If you wish to change the sound played when someone follows or donates, you can do so in the
                        Allmighty Twitch Toolbox application in the Settings tab. Please be aware only .wav files are
                        accepted and you can use the Test button to test that the sound plays before using it.
                    </p>

                    <p>
                        To change the image which is displayed on the notification shown on OBS, edit the
                        notifications.png file in the data/images/ folder. At this time there are no advanced options
                        as to how the notification displays, so please use the Test tab in the application to test
                        any changes made to that image.
                    </p>

                    <p>
                        A few things to note about the follower and donation alerts are that:
                    </p>

                    <ul>
                        <li>People who unfollow and then refollow will NOT show an alert, only those who are new
                            followers will show up.
                        </li>
                        <li>No donation note will show up on the stream notification, you can use the files
                            generated by the Allmighty Twitch Toolbox if you wish to display that.
                        </li>
                        <li>Only StreamTip is supported at this time for donations. Support for more will come in
                            the future.
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">Timer</div>
                <div class="panel-body">
                    <a name="timer"></a>

                    <p>
                        This timer panel will show a timer or countdown based upon whats configured in the
                        application. There are a total of 3 timers available.
                    </p>

                    <p>
                        To add this to OBS, add a CLR Browser pointing to the below url with a width of 500 and a
                        height of 125.
                    </p>

                    <p>
                        <input id="timer1-url" class="col-xs-12" type="text"/><br/>
                        <input id="timer2-url" class="col-xs-12" type="text"/><br/>
                        <input id="timer3-url" class="col-xs-12" type="text"/><br/>
                    </p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">API</div>
                <div class="panel-body">
                    <a name="api"></a>

                    <p>
                        The Allmighty Twitch Toolbox contains a very limited and crappy API so you can get the
                        information from the application using the inbuilt server. Again note the above words
                        'limited' and 'crappy', so there is not much you can do with it. But if you do wish to use
                        it, you can find the routes and very brief explanation below.
                    </p>

                    <ul>
                        <li><a href="/api/viewers/total">/api/viewers/total</a> - Gets the viewer count for your channel
                        </li>
                        <li><a href="/api/followers/latest">/api/followers/latest</a> - Gets a JSON object of the latest
                            follower.
                        </li>
                        <li><a href="/api/followers/latest/username">/api/followers/latest/username</a> - Gets the
                            username of
                            the latest follower.
                        </li>
                        <li><a href="/api/followers/total">/api/followers/total</a> - Gets the total number of
                            followers.
                        </li>
                        <li><a href="/api/donations/latest">/api/donations/latest</a> - Gets a JSON object of the latest
                            donation.
                        </li>
                        <li><a href="/api/donations/latest/id">/api/donations/latest/id</a> - Gets the unique ID of the
                            latest donation.
                        </li>
                        <li><a href="/api/donations/latest/username">/api/donations/latest/username</a> - Gets the
                            username
                            of the latest donation.
                        </li>
                        <li><a href="/api/donations/latest/amount">/api/donations/latest/amount</a> - Gets the amount of
                            the latest donation.
                        </li>
                        <li><a href="/api/donations/latest/note">/api/donations/latest/note</a> - Gets the note of the
                            latest donation.
                        </li>
                        <li><a href="/api/timer/1/seconds">/api/timer/1/seconds</a> - Gets the number of seconds left on
                            the first countdown timer.
                        </li>
                        <li><a href="/api/timer/2/seconds">/api/timer/2/seconds</a> - Gets the number of seconds left on
                            the second countdown timer.
                        </li>
                        <li><a href="/api/timer/3/seconds">/api/timer/3/seconds</a> - Gets the number of seconds left on
                            the third countdown timer.
                        </li>
                        <li>
                            <a href="/api/foobar/play">/api/foobar/play</a> - Issues a play command to foobar2000.
                        </li>
                        <li>
                            <a href="/api/foobar/pause">/api/foobar/pause</a> - Issues a pause command to foobar2000.
                        </li>
                        <li>
                            <a href="/api/foobar/stop">/api/foobar/stop</a> - Issues a stop command to foobar2000.
                        </li>
                        <li>
                            <a href="/api/foobar/next">/api/foobar/next</a> - Issues a next command to foobar2000.
                        </li>
                        <li>
                            <a href="/api/foobar/prev">/api/foobar/prev</a> - Issues a prev command to foobar2000.
                        </li>
                        <li>
                            <a href="/api/foobar/nextpause">/api/foobar/nextpause</a> - Issues a next and pause command
                            to
                            foobar2000.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script type="text/javascript">
    if (!window.location.origin) {
        window.location.origin = window.location.protocol + "//" + window.location.host;
    }

    $(document).ready(function () {
        $('#notifications-url').val(window.location.origin + "/notifications");

        $('#timer1-url').val(window.location.origin + "/timer/1");
        $('#timer2-url').val(window.location.origin + "/timer/2");
        $('#timer3-url').val(window.location.origin + "/timer/3");

        $(window).resize(function () {
            $('body').css('padding-top', parseInt($('#layout-nav').css("height")) + 15);
        }).load(function () {
            $('body').css('padding-top', parseInt($('#layout-nav').css("height")) + 15);
        });
    });
</script>
</body>
</html>